<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Genre Predection</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
  <div class="login" >
    <div id="head" style="font-family: Allerta Stencil, Sans-serif;">
      <h1 style="font-size:6rem;">Genre Detection</h1>
    </div>
    <!-- Main Input For Receiving Query to our ML -->
    <form action="{{ url_for('predict') }}" method="post" enctype="multipart/form-data">
      <input type="file" name="file" placeholder="Audio" required="required" accept=".wav, .mp3" id = "upload"/>
      <audio id="audio" controls>
        <source src="" id="src" />
      </audio>
      <button type="submit" class="btn btn-primary btn-block btn-large" id="button">Click to Predict Genre of Given Audio</button>
    </form>
    <br>
    <div style="transform: scale(1); color: white; ;">
      <em>
        {{ prediction_text }}
      </em>
    </div>
  </div>
</body>

<script>
  function handleFiles(event) {
    var files = event.target.files;
    $("#src").attr("src", URL.createObjectURL(files[0]));
    document.getElementById("audio").load();
  }
  document.getElementById("upload").addEventListener("change", handleFiles, false);
</script>
</html>